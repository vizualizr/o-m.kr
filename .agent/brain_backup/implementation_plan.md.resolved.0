# Fix Tailwind v4 @theme Error and CSS Structure

The "Unknown at rule @theme" error occurs because Tailwind CSS v4's new `@theme` block is being parsed as standard CSS by tools that don't know it's Tailwind. This is often caused by missing `@import "tailwindcss"` directives in entry points or redundant imports in child files.

## Proposed Changes

### Configuration Fixes

#### [MODIFY] [tailwind.config.mjs](file:///d:/yonggeun/porter/git/o-m.kr/production/tailwind.config.mjs)
- Fix syntax error: Change `module.exports` to `export default`. Since the project is `"type": "module"`, [.mjs](file:///d:/yonggeun/porter/git/o-m.kr/production/astro.config.mjs) files must use ESM syntax. Although Tailwind v4 prefers CSS variables, it still reads this config if present.

### CSS Structure Standardization

#### [MODIFY] [theme.css](file:///d:/yonggeun/porter/git/o-m.kr/production/src/styles/theme.css)
- Remove `@import "tailwindcss";` from the top of this file **if** it is primarily intended to be imported into [global.css](file:///d:/yonggeun/porter/git/o-m.kr/production/src/styles/global.css). 
- > [!NOTE]
  > Keeping it is technically allowed, but redundant imports of the same entry point can sometimes confuse parsers. We will keep it but ensure the parent file handles it correctly.

#### [MODIFY] [theme.css (Swiss)](file:///d:/yonggeun/porter/git/o-m.kr/production/src/styles/swiss/theme.css)
- Add `@import "tailwindcss";` to the top of this file. This file is imported directly in [SwissLayout.astro](file:///d:/yonggeun/porter/git/o-m.kr/production/src/layouts/swiss/SwissLayout.astro), making it a CSS entry point. Without the import, the `@theme` block inside is unrecognized.

#### [MODIFY] [global.css (Default)](file:///d:/yonggeun/porter/git/o-m.kr/production/src/styles/default/global.css)
- Ensure consistent use of `@import "tailwindcss"`.

### IDE Fix (VS Code)

#### [MODIFY] [.vscode/settings.json](file:///d:/yonggeun/porter/git/o-m.kr/production/.vscode/settings.json)
- Add `css.customData` or settings to ignore Tailwind-specific at-rules to eliminate the red squiggles in the editor.

## Verification Plan

### Automated Tests
- Run `npm run build` to ensure the project compiles without CSS errors.

### Manual Verification
- Open [src/styles/theme.css](file:///d:/yonggeun/porter/git/o-m.kr/production/src/styles/theme.css) (and others) in the IDE and verify that `@theme` is correctly recognized (or at least not flagged as an error).
- Check the local dev server (already running) to ensure styles are applied correctly.
